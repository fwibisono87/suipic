# ====================================
# Suipic Backend Environment Configuration
# ====================================
# Copy this file to .env and customize for your environment
# SECURITY: Change all passwords and secrets before deploying to production!

# ====================================
# Server Configuration
# ====================================
PORT=3000
ENV=development

# ====================================
# Database Configuration
# ====================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=suipic
DB_PASSWORD=password
DB_NAME=suipic
DB_SSLMODE=disable

# ====================================
# Elasticsearch Configuration
# ====================================
# Comma-separated list of Elasticsearch addresses
ES_ADDRESSES=http://localhost:9200
ES_USERNAME=
ES_PASSWORD=

# ====================================
# MinIO Object Storage Configuration
# ====================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_USE_SSL=false
MINIO_BUCKET=suipic

# ====================================
# JWT Authentication Configuration
# ====================================
# IMPORTANT: Generate a strong random secret for production!
# Example: openssl rand -base64 32
JWT_SECRET=your-secret-key-change-this-in-production
JWT_EXPIRY=24h

# ====================================
# CORS Configuration
# ====================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:5173,http://localhost:3001

# ====================================
# Initial Admin User Configuration
# ====================================
# These credentials are used to create the initial admin user on first startup
# The admin user is only created if these values are set and the user doesn't exist
# Change the password immediately after first login!
ADMIN_EMAIL=admin@suipic.local
ADMIN_PASSWORD=admin123
ADMIN_USERNAME=admin

# ====================================
# Docker Configuration Notes
# ====================================
# When running with Docker, these settings should be adjusted:
# - DB_HOST=postgres (service name in docker-compose)
# - ES_ADDRESSES=http://elasticsearch:9200
# - MINIO_ENDPOINT=minio:9000
# - ENV=production
# - Update CORS_ORIGINS to include your domain

# ====================================
# Production Security Checklist
# ====================================
# [ ] Change all default passwords
# [ ] Generate strong JWT_SECRET (32+ random characters)
# [ ] Set ADMIN_PASSWORD to a strong password
# [ ] Update CORS_ORIGINS to match your domain(s)
# [ ] Configure SSL certificates for HTTPS
# [ ] Set ENV=production
# [ ] Enable DB_SSLMODE=require for production database
# [ ] Never commit .env file to version control
# [ ] Rotate JWT_SECRET periodically
# [ ] Use strong MinIO credentials
# [ ] Review and harden database user permissions
